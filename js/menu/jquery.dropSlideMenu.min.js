/*
	jquery.dropSlideMenu.js v1.0
	Last updated: 24 July 2009

	Created by Damien du Toit
	http://coda.co.za/blog/2009/07/24/dropslidemenu

	Licensed under a Creative Commons Attribution-Non-Commercial 3.0 Unported License
	http://creativecommons.org/licenses/by-nc/3.0/
*/
(function($){$.fn.dropSlideMenu=function(options){$.fn.dropSlideMenu.defaults={indicators:true,clickstream:true,openEasing:"easeOutQuad",closeEasing:"easeInQuad",duration:600,delay:800,hideSelects:true};var o=$.extend({},$.fn.dropSlideMenu.defaults,options);return this.each(function(){window.container=$(this).children("ul:first");window.lists=container.find("ul");window.listItems=lists.parent();window.timer=null;window.count=1;container.addClass("ds");var clear="<div class=\"dsClear\">&nbsp;</div>";container.append(clear);lists.each(function(){$(this).attr("id","dsList-"+count).css({display:"none",visibility:"visible"});count++;});count=1;listItems.each(function(){var listItem=$(this);var list=listItem.children("ul:first");var link=listItem.children("a:first");if(o.clickstream){var links=listItem.find("a");links.each(function(){if(window.location.pathname.indexOf($(this).attr("href"))!=-1){$(this).parent().addClass("clickstream");}});}
if(o.indicators){link.wrap("<div class=\"indicator\"></div>");}
listItem.attr("id","dsListItem-"+count);$.event.special.hover.delay=80;listItem.hover(function(){if($(this).hasClass("open")){if(timer){window.clearTimeout(timer);timer=null;}}
else{lists.hide();listItems.removeClass("open").removeClass("active");window.clearTimeout(timer);timer=null;openList($(this));}},function(){timer=setTimeout(function(){closeList(list.parent());},o.delay);});function openList(li){if(o.hideSelects&&$.browser.msie&&parseInt($.browser.version)<7){$("select").css("visibility","hidden");}
li.addClass("open");list.show("slide",{duration:o.duration,direction:"up",easing:o.openEasing},function(){});}
function closeList(li){timer=null;list.hide("slide",{duration:o.duration,direction:"up",easing:o.closeEasing},function(){li.removeClass("open");if(o.hideSelects&&$.browser.msie&&parseInt($.browser.version)<7){$("select").css("visibility","visible");}});}
count++;});if($.browser.msie){container.find("li ul li a").css({zoom:1,verticalAlign:"top"});}
$("a[href$='#']",container).css({cursor:"default"}).click(function(){return false;});});};})(jQuery);